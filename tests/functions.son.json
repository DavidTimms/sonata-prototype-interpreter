["do",["def","add",["->",["a","b"],["do",["+","a","b"]]]],["ensure",["==",["add",2,5],["+",2,5]]],["var","x",45],["def","create_power",["->",["x"],["do",["->",["y"],["do",["^","y","x"]]]]]],["let","cube",["create_power",3]],["ensure",["==",["cube",5],["^",5,3]]],["ensure",["==","x",45]],["def","counter",["->",[],["do",["var","total",0],["->",["extra"],["do",["=","total",["+","total","extra"]],"total"]]]]],["let","increase",["counter"]],["ensure",["==",["increase",5],5]],["ensure",["==",["increase",12],17]],["ensure",["==",["increase",2],19]],["def","factorial",["->",["x","acc"],["do",["if",["<=","x",0],["do","acc"],["do",["factorial",["-","x",1],["if","acc",["do",["*","acc","x"]],["do","x"]]]]]]]],["ensure",["==",["factorial",5],120]],["def","repeat_char",["->",["n","chr","str"],["do",["if",[">","n",0],["do",["repeat_char",["-","n",1],"chr",["++","str","chr"]]],["do","str"]]]]],["repeat_char",100000,"'i'","''"],["def","fibonacci",["->",["n"],["do",["if",["<","n",2],["do","n"],["do",["+",["fibonacci",["-","n",1]],["fibonacci",["-","n",2]]]]]]]],["ensure",["==",["fibonacci",11],89]],["def","join",["->",[["List:compose",["head"],"tail"]],["do",["++","head",["if",["!=","tail",["List"]],["do",["++","' '",["join","tail"]]],["do","''"]]]]]],["ensure",["==",["join",["List","'Hello'","'world'","'foo'","'bar'"]],"'Hello world foo bar'"]],"'all tests passed'"]